services:
  postgres-users:
    image: postgres:17-alpine
    container_name: shems-postgres-users
    environment:
      POSTGRES_DB: shems_users
      POSTGRES_USER: shems
      POSTGRES_PASSWORD: shems123
    ports:
      - "35432:5432"
    volumes:
      - postgres-users-data:/var/lib/postgresql/data

  postgres-devices:
    image: postgres:17-alpine
    container_name: shems-postgres-devices
    environment:
      POSTGRES_DB: shems_devices
      POSTGRES_USER: shems
      POSTGRES_PASSWORD: shems123
    ports:
      - "35434:5432"
    volumes:
      - postgres-devices-data:/var/lib/postgresql/data

  timescaledb:
    image: timescale/timescaledb:latest-pg17
    container_name: shems-timescaledb
    environment:
      POSTGRES_DB: energy_data
      POSTGRES_USER: shems
      POSTGRES_PASSWORD: shems123
    ports:
      - "35433:5432"
    volumes:
      - timescaledb-data:/var/lib/postgresql/data

volumes:
  postgres-users-data:
  postgres-devices-data:
  timescaledb-data: